{"version":3,"sources":["./src/app/tabla/tabla.page.html","./src/app/tabla/tabla.module.ts","./src/app/tabla/tabla.page.scss","./src/app/tabla/tabla.page.ts"],"names":[],"mappings":"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","file":"tabla-tabla-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title class=\\\"ion-text-center\\\">Previsualizaci√≥n</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content scrollX=\\\"true\\\" scrollY=\\\"true\\\">\\n<table border=\\\"1\\\" class=\\\"data-table\\\">\\n<tr>\\n  <td *ngFor=\\\"let header of headerRow\\\" text-center><b>\\n    {{ header }}\\n  </b></td>\\n</tr>\\n\\n<tr *ngFor=\\\"let row of csvData; let i=index\\\">\\n  <td *ngFor=\\\"let data of row; let j = index; trackBy: trackByFn\\\" class=\\\"data-col\\\">\\n<ion-input type=\\\"text\\\"[(ngModel)]=\\\"csvData[i][j]\\\"></ion-input>\\n  </td>\\n\\n</tr>\\n\\n</table>\\n</ion-content>\\n<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"volver()\\\">\\n      <ion-icon name=\\\"arrow-round-back\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n      <ion-fab-button (click)=\\\"exportCSV()\\\" color=\\\"danger\\\">\\n        <ion-icon name=\\\"save\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ion-fab>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TablaPage } from './tabla.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TablaPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TablaPage]\n})\nexport class TablaPageModule {}\n","module.exports = \".data-table {\\n  max-width: 300%;\\n  white-space: nowrap;\\n  min-width: 1500px;\\n  margin: 20px auto;\\n  table-layout: auto;\\n}\\n\\n.data-col {\\n  background: #f0f0f0;\\n}\\n\\n.has-focus {\\n  --background: #fdf696;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFibGEvQzpcXFVzZXJzXFxGZXJcXHF1aWNrbGl0eS9zcmNcXGFwcFxcdGFibGFcXHRhYmxhLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFibGEvdGFibGEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUE7RUFFSSxtQkFBQTtBQ0FKOztBREdBO0VBRUkscUJBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL3RhYmxhL3RhYmxhLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kYXRhLXRhYmxle1xyXG4gICAgbWF4LXdpZHRoOjMwMCU7XHJcbiAgICB3aGl0ZS1zcGFjZTpub3dyYXA7XHJcbiAgICBtaW4td2lkdGg6IDE1MDBweDtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgdGFibGUtbGF5b3V0OiBhdXRvO1xyXG59XHJcblxyXG4uZGF0YS1jb2x7XHJcbiAgICBcclxuICAgIGJhY2tncm91bmQ6ICNmMGYwZjA7XHJcbn1cclxuXHJcbi5oYXMtZm9jdXMge1xyXG4gICAgXHJcbiAgICAtLWJhY2tncm91bmQ6ICNmZGY2OTY7XHJcbn0iLCIuZGF0YS10YWJsZSB7XG4gIG1heC13aWR0aDogMzAwJTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgbWluLXdpZHRoOiAxNTAwcHg7XG4gIG1hcmdpbjogMjBweCBhdXRvO1xuICB0YWJsZS1sYXlvdXQ6IGF1dG87XG59XG5cbi5kYXRhLWNvbCB7XG4gIGJhY2tncm91bmQ6ICNmMGYwZjA7XG59XG5cbi5oYXMtZm9jdXMge1xuICAtLWJhY2tncm91bmQ6ICNmZGY2OTY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Papa } from 'ngx-papaparse';\nimport { Platform, NavController } from '@ionic/angular';\nimport { File } from '@ionic-native/file/ngx';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { AjustesService } from '../ajustes.service';\n\n\n@Component({\n  selector: 'app-tabla',\n  templateUrl: './tabla.page.html',\n  styleUrls: ['./tabla.page.scss'],\n})\nexport class TablaPage implements OnInit {\n\n  msn:string;\n  vgf:string;\n  version:string;\n  titulo:string;\n\n  csvData: any[]=[];\n  headerRow:any []=[];\n\n  constructor(private http:HttpClient, private papa: Papa, private plt: Platform, private miServicio: AjustesService,\n    private file: File,\n    private socialSharing: SocialSharing,\n    public NavCrtl: NavController) { \n    this.loadCSV();\n  }\n\n  private loadCSV(){\n    this.http.get('./assets/modelo.csv', {\n      responseType: 'text'\n    }).subscribe(\n      data=> this.extractData(data),\n      err => console.log('error: ',err),\n    )\n  }\n  ngOnInit() {\n\n    this.msn=this.miServicio.msn;\n    this.version=this.miServicio.version;\n    this.vgf=this.miServicio.vgf;\n    this.titulo='QG_MSN'+this.msn+'_'+this.version+'_'+this.vgf+'.csv';\n    \n  }\n\n  extractData(res) {\n  let csvData= res || '';\n\n  this.papa.parse(csvData,{\n\n    complete: parsedData=>{\n     this.headerRow=parsedData.data.splice(1,0)[0];\n     this.csvData=this.miServicio.tabla;\n     \n    }\n  })\n  }\n\n  trackByFn(index:any, item:any){\n  return index;\n  }\n\n  exportCSV() {\n    let csv = this.papa.unparse({\n      fields: this.headerRow,\n      data: this.csvData\n    });\n \n    if (this.plt.is('cordova')) {\n      this.file.writeFile(this.file.dataDirectory, this.titulo , csv, {replace: true}).then( res => {\n        this.socialSharing.share(null, null, res.nativeURL, null).then(e =>{\n          // Success\n        }).catch(e =>{\n          console.log('Share failed:', e)\n        });\n      }, err => {\n        console.log('Error: ', err);\n      });\n \n    } else {\n      // Dummy implementation for Desktop download purpose\n      var blob = new Blob([csv]);\n      var a = window.document.createElement('a');\n      a.href = window.URL.createObjectURL(blob);\n      a.download = this.titulo;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  }\n\n  volver(){\nthis.NavCrtl.navigateBack('/marcador');\n  }\n \n \n}\n \n\n"],"sourceRoot":""}